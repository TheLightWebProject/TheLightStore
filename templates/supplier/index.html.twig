{% extends 'base.html.twig' %}

{% block title %}Supplier Management
{% endblock %}

{% block body %}
	{% include "view/management.html.twig" %}
	<div class="border pt-2 mb-2">
		<h1 class="text-center">Supplier List</h1>
		{% for message in app.flashes('success') %}
			<div class="alert alert-success text-center">
				{{ message }}
			</div>
		{% endfor %}
		<div class="text-center mb-2">
			<a href="{{ path('add_supplier') }}" class="btn btn-outline-primary">
				<img src="Image/add.png" alt="Add new" width="16" height="16" border="0"/>Add
			</a>
		</div>
		<table id="tablecategory" class="table table-striped table-bordered m-0" cellspacing="0" width="100%">
			<thead class="justify-content-md-between justify-content-sm-center align-content-center border-bottom border-2 my-2 bg-dark text-light p-3 rounded-3">
				<tr class="text-center">
					<th>
						<strong>No.</strong>
					</th>
					<th>
						<strong>Supplier Name</strong>
					</th>
					<th>
						<strong>Telephone</strong>
					</th>
					<th>
						<strong>Email</strong>
					</th>
					<th>
						<strong>Edit</strong>
					</th>
					<th>
						<strong>Delete</strong>
					</th>
				</tr>
			</thead>

			<tbody class="justify-content-md-between justify-content-sm-center border-bottom border-2 my-2 bg-light p-2 rounded-3">
				{% if suppliers %}
					{% set count = 1 %}
					{% for supplier in suppliers %}
						<tr>
							<td class="text-center">
								<a href="{{ path('shop', { 'sid': supplier.id }) }}" class="text-decoration-none">{{ count }}</a>
							</td>
							<td>{{ supplier.name }}</td>
							<td class="text-center">{{ supplier.telephone }}</td>
							<td align='center'>
								{{ supplier.email }}
							</td>
							<td style='text-align:center'>
								<a href="{{ path('edit_supplier', { 'id': supplier.id }) }}">
									<i class="bi bi-pen-fill" style="color: black;"></i>
								</a>
							</td>
							<td style='text-align:center'>
								<a href="{{ path('delete_supplier', { 'id': supplier.id }) }}" onclick="return confirm('Are you sure to delete!')">
									<i class="bi bi-trash-fill" style="color: red;"></i>
								</a>
							</td>
						</tr>
						{% set count = count + 1 %}
					{% endfor %}
				{% else %}
					<tr>
						<td colspan="6" class="text-center fw-bold">
							Supplier list is empty
						</td>
					</tr>
				{% endif %}

			</tbody>
		</table>
	</div>
{% endblock %}
