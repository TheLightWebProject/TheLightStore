{% extends 'base.html.twig' %}

{% block title %}Supplier Management
{% endblock %}

{% block body %}
	<div class="border my-2">
		<form name="frm" method="post" action="" class="mt-3 mx-md-2">
			<h1 class="text-center">Supplier List</h1>
			<div class="text-center mb-2">
				<a href="{{ path('add_supplier') }}" class="btn btn-outline-primary">
					<img src="Image/add.png" alt="Add new" width="16" height="16" border="0"/>Add
				</a>
			</div>
			<table id="tablecategory" class="table table-striped table-bordered" cellspacing="0" width="100%">
				<thead>
					<tr class="text-center">
						<th>
							<strong>No.</strong>
						</th>
						<th>
							<strong>Supplier Name</strong>
						</th>
						<th>
							<strong>Telephone</strong>
						</th>
						<th>
							<strong>Email</strong>
						</th>
						<th>
							<strong>Edit</strong>
						</th>
						<th>
							<strong>Delete</strong>
						</th>
					</tr>
				</thead>

				<tbody>
					{% if suppliers %}
						{% set count = 1 %}
						{% for supplier in suppliers %}
							<tr>
								<td
									class="text-center">
									<a href="{{ path('shop', { 'sid': supplier.id }) }}" class="text-decoration-none">{{ count }}</a>
								</td>
								<td>{{ supplier.name }}</td>
								<td class="text-center">{{ supplier.telephone }}</td>
								<td align='center'>
									{{ supplier.email }}
								</td>
								<td style='text-align:center'>
									<a href="{{ path('edit_supplier', { 'id': supplier.id }) }}">
										<i class="bi bi-pen-fill" style="color: black;"></i>
									</a>
								</td>
								<td style='text-align:center'>
									<a href="{{ path('delete_supplier', { 'id': supplier.id }) }}" onclick="return confirm('Are you sure to delete!')">
										<i class="bi bi-trash-fill" style="color: red;"></i>
									</a>
								</td>
							</tr>
							{% set count = count + 1 %}
						{% endfor %}
					{% else %}
						<tr>
							<td colspan="6" class="text-center fw-bold">
								Supplier list is empty
							</td>
						</tr>
					{% endif %}

				</tbody>
			</table>
		</form>
	</div>
{% endblock %}
